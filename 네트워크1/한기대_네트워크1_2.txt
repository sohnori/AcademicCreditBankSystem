ip 프로토콜은 비연결형으로 오류보고와 오류수정 기능이 없음
호스트와 관리자를 위한 매커니즘이 없음
해서 여러 보조 프로토콜이 필요

ICMPv4_internet control message protocol
약 3.5계층의 위치
(ip프로토콜로 캡슐화되어 전달)_ip프로토콜에서 데이터부분이라고 보면됨
ip헤더의 프로토콜 번호 - ICMP_1번 TCP_6 UDP_17
헤더 8바이트
필드값 - type, code, checksum, rest of header
패킷형식
ip헤더 + 
ICMP헤더 구조
<타입_8bits | 코드_8 | 체크썸_16
추가적인헤더정보_32
데이터>
대표적인 명령어 ping
오류보고 메시지, 질의 메시지(네트워크 진단)
IPv6 에서는
ICMPv6 가 ARP, IGMP, ICMP 기능을 모두 수용하여 관리함
오류보고, 네트워크진단, 이웃탐색, 그룹 멤버십 메시지관리
 
IGMP_internet group management protocol
인터넷에서 멀티캐스트를 위하 그룹을 관리하는 프로토콜
브로드캐스트_불특정 다수에게 메시지 보냄
멀티캐스트_특정 다수에게 메시지 보냄(사전에 등록된 그룹)
<ex>224.0.0.0/4</ex>
그룹가입, 그룹감시, 그룹응답, 그룹탈퇴를 관리

ARP, RARP_address resolution protocol
수신 측 논리주소인 ip를 가지고 이에 해당하는 물리주소인 MAC 주소를 가져오는 프로토콜
통신을 하기 위해서 최종적 LAN 카드에 있는 MAC 번호를 알아야하기 떄문에
컴퓨터를 켜면
운영체제에서 LAN카드의 MAC 주소를 받아온다.
그리고 DHCP를 통해 ip를 할당받는다.
TCP통신을 한다고 가정할떄 수신측에 대한 정보중 MAC 주소만 모르기 떄문에
수신측 ip를 통해 MAC 주소를 알아온다.
ARP 프로토콜 구조
하드웨어 타입 | 프로토콜 타입
하드웨어 길이 | 프로토콜 길이 | 명령 구분(1_요청 2_응답)
송신자 하드웨어 어드레스
송신자 프로토콜 어드레스(IP주소)
수신자 하드웨어 어드레스
수신자 프로토콜 어드레스(IP주소)
보낼때는 수신자 하드웨어 어드레스를 전부 0으로 채워보낸다.
수신자는 이 메시지를 받고 하드웨어 어드레스를 채워서 보낸다.
요청은 브로드캐스트(서버위치를 모르기때문에) 응답은 유니캐스트
RARP 프로토콜
MAC 주소를 가지고 IP주소를 찾아오는 프로토콜
DHCP 환경일 때 컴퓨터는 MAC 주소를 보내서 DHCP서버로 부터 IP주소를 할당받는다.
이때 사용하는 프로토콜이 RARP이다.
RARP(MAC+IP) -> BooTP(IP+G/W+DNS) -> DHCP(동적으로 자동 설정 기능)





