전송계층 포트번호(16비트)
1~1023 사전에 약속된 포트번호
21_FTP(파일전송), 23_TELNET(원격접속), 25_SMTP(메일), 80_HTTP(웹)
1024~65535 임의의 번호, 자유롭게 사용
소켓: 아이피 주소 + 포트번호

TCP 프로토콜(연결형)
기본헤더
IP헤더_20바이트 | TCP헤더_20 | TCP데이터

IP 헤더(프로토콜 모니터 프로그램으로 확인 가능)
발신지포트주소_16비트 | 목적지포트주소_16
세그먼트 번호_32
응답번호_32
HLEN_4 | 예약_6 | URG,ACK,PSH,RST,SYN,FIN | 윈도우 사이즈_16
체크썸_16 | Ugent Pointer_16
옵션들과 padding

TCP연결절차
서버측
Socket()_생성
Bind()_ip,포트주소할당
Listen()_연결대기
Accept()_수락
Read()_수신
Write()_송신
Close()_소멸
클라측
Socket()_생성
Connect()_연결요청
Write()_송신
Read()_수신
Close()_소멸

피기백_piggyback
요청과 ACK과 함께 전송

UDP프로토콜_user datagram protocol(비연결형)
실시간 전송
헤더 8바이트
source 포트번호_16bits | destination 포트번호_16
1~1023 사전에 약속된 포트번호
대표적인 UDP 포트 번호_DNS_53, SNMP_161(네트워크관리프로토콜), TFTP_69
1024~65535 임의의 번호, 자유롭게 사용
수신데이터의 순서 정리가 필요함

DNS의 구조
계층적 구조로 구성하여 네이밍에 대한 책임을 분산시킴
root서버가 최상위
3개 섹션으로 구분
14개의 일반 도메인(.com .edu .net .org .biz .gov등)
국가지정도메인_.kr .us .jp 등
인버스 도메인_ip주소에 대한 도메인 명을 알려줌
ex> www.koreatech.ac.kr.

재귀적 질의
루트서버로부터 최종 ip얻음(루트서버가 계층적 하위로 요청을 전달하여 계층적으로 수신함)
반복적 질의
각 서버로부터 요청하고 받는 절차를 1:1로 반복적으로 수행하여 ip를 얻음
일반적 질의
재귀+반복

DNS 역네임 분석
ex> 211.167.203.56
root -> Arpa -> In-Addr -> 211 -> 167 -> 203 ->56

DNS 프로토콜
해석기와 네임서버는 53번 포트 사용(TCP/UDP)
512바이트 보다 작을 경우_UDP 53번 포트 사용
512바이트 보다 클 경우_TCP 53번 포트 사용
포멧
IP헤더_20바이트 + UDP_20 + DNS 메시지(헤더, 질의, 응답, 책임, 부가섹션으로 나뉨)

DDNS 프로토콜
유동 IP환경에서 사용함
IP주소를 즉시 변경 업데이트를 유지하여 IP가 바뀌어도 동일한 도메인으로 접속가능하게 해줌

DHCP 동작과정
DHCP 서버_UDP 67번 포트 passive open 하고 요청대기 ->
사용자PC_UDP 68번 포트로 Active open 후 IP 요청(발신지주소 모두 0, 목적지주소 모두 1로) ->
DHCP 서버_클라이언트에 IP주소, 게이트웨이 주소 부여

BOOTP_bootstrap protocol
사전에 정의된 주소값들을 BOOTP 서버로부터 제공 받음
클라이언트의 물리 주소와 1:1바인딩 된 IP주소를 제공
